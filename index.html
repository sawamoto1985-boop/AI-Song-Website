<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
// 2. ページ全体の読み込みが完了してから実行する
window.onload = function() {
    const SUPABASE_URL = 'https://nnustlvukrdtoyoktmjt.supabase.co';
    const SUPABASE_KEY = 'EyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5udXN0bHZ1a3JkdG95b2t0bWp0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNTY1MjgsImV4cCI6MjA4NTYzMjUyOH0.YlYGXKnO3TQ7Nj67lMHSUJAblkGRR61308yzIr6blRU';

    // supabase オブジェクトが存在するかチェック
    if (typeof supabase === 'undefined') {
        console.error("Supabase library not loaded!");
        return;
    }

    const client = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    // ...以下、init関数の処理...
    async function init() {
        const { data, error } = await client.from('ai_song_youtube_ranking').select('*').limit(1);
        if (error) console.error("Error:", error.message);
        else console.log("Success:", data);
    }
    init();
};
</script>
